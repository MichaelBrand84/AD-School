<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="de" xml:lang="de"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>AutoDiff - 1&nbsp; Ableitungen und ihre Anwendungen</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./notAD.html" rel="next">
<link href="./index.html" rel="prev">
<link href="./mycover.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "Keine Treffer",
    "search-matching-documents-text": "Treffer",
    "search-copy-link-title": "Link in die Suche kopieren",
    "search-hide-matches-text": "Zusätzliche Treffer verbergen",
    "search-more-match-text": "weitere Treffer in diesem Dokument",
    "search-more-matches-text": "weitere Treffer in diesem Dokument",
    "search-clear-button-title": "Zurücksetzen",
    "search-detached-cancel-button-title": "Abbrechen",
    "search-submit-button-title": "Abschicken",
    "search-label": "Suchen"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating slimcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Ableitungen und ihre Anwendungen</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Seitenleiste umschalten" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header sidebar-header-stacked">
      <a href="./index.html" class="sidebar-logo-link">
      <img src="./mycover.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
    <div class="sidebar-title mb-0 py-0">
      <a href="./">AutoDiff</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Suchen"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vorwort</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Ableitungen und ihre Anwendungen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./notAD.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">AD ist nicht …</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ADOneDimManually.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Standard Algorithmische Differentiation für eindimensionale Funktionen</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./HigherDimFunctions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Funktionen mit mehreren In- und Outputs</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./aad.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Adjungierte Algorithmische Differentiation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ausblick.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Ausblick: Moderne Bibliotheken für automatische Differentiation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reflexion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Reflexion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literaturverzeichnis</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Inhaltsverzeichnis</h2>
   
  <ul>
  <li><a href="#ein-erstes-beispiel" id="toc-ein-erstes-beispiel" class="nav-link active" data-scroll-target="#ein-erstes-beispiel"><span class="header-section-number">1.1</span> Ein erstes Beispiel</a>
  <ul class="collapse">
  <li><a href="#unser-ziel-programme-ableiten" id="toc-unser-ziel-programme-ableiten" class="nav-link" data-scroll-target="#unser-ziel-programme-ableiten"><span class="header-section-number">1.1.1</span> Unser Ziel: Programme ableiten</a></li>
  </ul></li>
  <li><a href="#sec-AbleitungenUebersicht" id="toc-sec-AbleitungenUebersicht" class="nav-link" data-scroll-target="#sec-AbleitungenUebersicht"><span class="header-section-number">1.2</span> Ableitungen von Funktionen</a></li>
  <li><a href="#sec-ProgFunc" id="toc-sec-ProgFunc" class="nav-link" data-scroll-target="#sec-ProgFunc"><span class="header-section-number">1.3</span> Programme als Funktionen</a></li>
  <li><a href="#sec-NumerischeVerfahren" id="toc-sec-NumerischeVerfahren" class="nav-link" data-scroll-target="#sec-NumerischeVerfahren"><span class="header-section-number">1.4</span> Numerische Verfahren, die mit Ableitungen arbeiten</a>
  <ul class="collapse">
  <li><a href="#sec-Newtonverfahren1D" id="toc-sec-Newtonverfahren1D" class="nav-link" data-scroll-target="#sec-Newtonverfahren1D"><span class="header-section-number">1.4.1</span> Das Newtonverfahren zur Berechnung von Nullstellen</a></li>
  <li><a href="#sec-gradientDescent" id="toc-sec-gradientDescent" class="nav-link" data-scroll-target="#sec-gradientDescent"><span class="header-section-number">1.4.2</span> Gradient Descent zum Auffinden lokaler Minima</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-AbleitungenUndAnwendungen" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Ableitungen und ihre Anwendungen</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="ein-erstes-beispiel" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="ein-erstes-beispiel"><span class="header-section-number">1.1</span> Ein erstes Beispiel</h2>
<p>In allen Lehrbüchern über Analysis werden Extremwertaufgaben oder Optimierungsprobleme als zentrale Anwendung von Ableitungen eingeführt. Das folgende Beispiel etwa stammt aus <span class="citation" data-cites="Stocker2022">Stocker u.&nbsp;a. (<a href="references.html#ref-Stocker2022" role="doc-biblioref">2022</a>)</span> (S. 93):</p>
<blockquote class="blockquote">
<p>Von einer Erdölraffinerie <span class="math inline">\(R\)</span>, die an einer von West nach Ost geradlinig verlaufenden Küste liegt, soll eine Pipeline zum Verteilzentrum <span class="math inline">\(V\)</span> im Landesinnern gebaut werden. <span class="math inline">\(V\)</span> liegt 16 km östlich und 12 km nördlich von <span class="math inline">\(R\)</span>. Von <span class="math inline">\(R\)</span> aus soll die Pipeline zuerst ostwärtzs entlang der Küste geführt werden, ab einer geeigneten Stelle dann geradlinig ins Landesinnere nach <span class="math inline">\(V\)</span>. Mit welchen minimalen Baukosten ist zu rechnen, wenn die Verlegungskosten entlang der Küste 15’000 Euro je Kilometer betragen und im Landesinneren 25’000 Euro?</p>
</blockquote>
<p>Üblicherweise wird eine solche Aufgabe gelöst, indem zuerst eine Zielfunktion aufgestellt wird, in unserem Fall sind das die Gesamtkosten <span class="math inline">\(k = k_\textrm{Küste} + k_\textrm{Land}\)</span>, die sich aus den Baukosten für den Abschnitt entlang der Küste und den Kosten für die Strecke durch das Landesinnere zusammensetzen. Als nächstes formuliert man Nebenbedingungen, die die beiden Grössen mit einer geeignet gewählten Variablen in Verbindung setzen. Wir wählen <span class="math inline">\(x\)</span> als die Strecke, die von <span class="math inline">\(R\)</span> aus entlang der Küste bis zu dem Punkt führt, an dem die Pipeline abgezweigt wird. Dann gilt <span class="math inline">\(k_\textrm{Küste} = x\cdot 15000\)</span> und mit Pythagoras finden wir <span class="math inline">\(k_\textrm{Land} = \sqrt{(16-x)^2 + 12^2}\cdot 25000\)</span>. Setzen wir dies in die Hauptbedingung ein, so erhalten wir die Zielfunktion <span class="math display">\[
k = k(x) = x\cdot 15000 + \sqrt{(16-x)^2 + 12^2}\cdot 25000
\]</span> von der wir das (globale) Minimum suchen. Dazu müssen wir die Funktion ableiten und die Gleichung <span class="math inline">\(\frac{dk}{dx}=0\)</span> nach <span class="math inline">\(x\)</span> auflösen.</p>
<p>Aber könnten wir die Aufgabe nicht auch mit Hilfe des Computers lösen?</p>
<div id="exr-OptimierungsproblemProgrammieren" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.1 (Kostenfunktion als Programm) </strong></span><br></p>
<p>Schreibe eine Python Funktion <code>kosten(x)</code>, welche zu einem <span class="math inline">\(x\in[0,16]\)</span> die gesamten Baukosten <span class="math inline">\(k\)</span> berechnet, ohne die obige Lösung zu verwenden. Achte auf sinnvolle Variablennamen. Das Programm soll die Baukosten für einen sinnvollen Wert von <span class="math inline">\(x\)</span> berechnen und ausgeben.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Eine mögliche Implementierung könnte so aussehen:</p>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> kosten(x):</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Preise pro Kilometer</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    pKueste <span class="op">=</span> <span class="dv">15000</span> </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    pLand   <span class="op">=</span> <span class="dv">25000</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Distanzen</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    sX <span class="op">=</span> x  <span class="co"># Ost-West (x Richtung)</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    d <span class="op">=</span> <span class="dv">16</span>  <span class="op">-</span> sX</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    sY <span class="op">=</span> <span class="dv">12</span> <span class="co"># Nord-Sued (y Richtung)</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    sLand <span class="op">=</span> d<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> sY<span class="op">**</span><span class="dv">2</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    sLand <span class="op">=</span> math.sqrt(sLand)</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">#Kosten</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    kKueste <span class="op">=</span> sX <span class="op">*</span> pKueste</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    kLand <span class="op">=</span> sLand <span class="op">*</span> pLand</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> kKueste <span class="op">+</span> kLand</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>kGesamt <span class="op">=</span> kosten(x0)</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mit x ="</span>, x0, <span class="st">"betragen die Kosten"</span>, kGesamt, <span class="st">"Euro."</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Mit x = 8 betragen die Kosten 480555.1275463989 Euro.</code></pre>
</div>
</div>
</div>
</div>
</div>
<p>Die Python Funktion <code>kosten(x)</code> liefert die gleichen Werte, wie die Funktion <span class="math inline">\(k(x)\)</span>, die wir oben hergeleitet haben, aber sie ist leichter zu verstehen, da wir eine Schritt für Schritt Anleitung haben, wie die Kosten berechnet werden, wohingegen in der mathematischen Funktionsgleichung alle diese Schritte zu einer Zeile zusammengefasst wurden. Trotzdem haben wir nicht viel gewonnen, wenn wir nicht die Ableitung der Funktion berechnen können. Und genau darum soll es in dieser Lerneinheit gehen.</p>
<section id="unser-ziel-programme-ableiten" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="unser-ziel-programme-ableiten"><span class="header-section-number">1.1.1</span> Unser Ziel: Programme ableiten</h3>
<p>Wir möchten Ableitungen von Funktionen berechnen, die durch Programme beschrieben werden, die wie oben einen numerischen Parameter <code>x</code> als Input erhalten und einen numerischen Wert <code>y</code> zurückliefern. Unser Ziel wird es sein, die Programme so zu modifizieren, dass der Funktionsaufruf <code>f(x0)</code> nicht nur den Funktionswert <span class="math inline">\(f(x_0)\)</span> zurückgibt, sondern auch den Wert der Ableitung <span class="math inline">\(f'(x_0)\)</span>. Wir sind dabei nicht an einer symbolischen Ableitung interessiert, wie das z.B. GeoGebra oder Mathematica machen (s. <a href="notAD.html#sec-ADnotSymbDiff"><span>Kapitel&nbsp;2.2</span></a>), sondern nur an einer punktweisen Auswertung. Natürlich wollen wir die Ableitungsfunktion auch nicht von Hand bestimmen. Wir wollen uns aber auch nicht bloss mit einer Annhäerung des Wertes der Ableitung zufrieden geben (s. <a href="notAD.html#sec-ADnotNumDiff"><span>Kapitel&nbsp;2.1</span></a>), sondern den Wert von <span class="math inline">\(f'(x_0)\)</span> bis auf Maschinengenauigkeit exakt berechnen. In <a href="ADOneDimManually.html"><span>Kapitel&nbsp;3</span></a> werden wir eine Methode kennen lernen, die all dies leistet und dabei die Laufzeit eines Programms nicht wesentlich erhöht. Der Name dieser Methode: Algorithmische Differentiation (AD), obwohl die Namensgebung hier nicht eindeutig ist:</p>
<blockquote class="blockquote">
<p>One of the obstacles in this area [of computing derivatives], which involves “symbolic” and “numerical” methods, has been a confusion in terminology […]. There is not even general agreement on the best name for the field, which is frequently referred to as <em>automatic</em> or <em>computational differentiation</em> in the literature. For this book the adjective <em>algorithmic</em> seemed preferable, because much of the material emphasizes algorithmic structure, sometimes glossing over the details and pitfalls of actual implementations. (Aus dem Vorwort zu <span class="citation" data-cites="Griewank2008EDP">Griewank und Walther (<a href="references.html#ref-Griewank2008EDP" role="doc-biblioref">2008</a>)</span>)</p>
</blockquote>
<p>Zuerst wollen wir aber die wichtigsten Ableitungsregeln nochmal zusammenfassen.</p>
</section>
</section>
<section id="sec-AbleitungenUebersicht" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="sec-AbleitungenUebersicht"><span class="header-section-number">1.2</span> Ableitungen von Funktionen</h2>
<p>Wir kennen Ableitungen von Funktionen <span class="math inline">\(f: \mathbb{R}\rightarrow\mathbb{R}\)</span> aus dem Mathematikunterricht. Sie geben uns darüber Auskunft, wie gross die Steigung der Tangente in einem bestimmten Punkt des Funktionsgraphen ist. Die Tangente stellt dabei die beste lineare Annäherung an den Funktionsgraph dar. Ableitungen beschreiben auch die lokale Änderungsrate der Funktion. Ableitungen erlauben es uns ausserdem, die Extrema und Wendepunkte einer Funktion zu bestimmen.</p>
<p>Die folgende Tabelle fasst die bekannten Ableitungen der Grundfunktionen zusammen.</p>
<div id="tbl-DiffGrundfunktionen" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;1.1: Ableitungen der Grundfunktionen</caption>
<colgroup>
<col style="width: 18%">
<col style="width: 29%">
<col style="width: 3%">
<col style="width: 16%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th><span class="math inline">\(f(x)\)</span></th>
<th><span class="math inline">\(f'(x)\)</span></th>
<th></th>
<th><span class="math inline">\(f(x)\)</span></th>
<th><span class="math inline">\(f'(x)\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(x^n\)</span></td>
<td><span class="math inline">\(n \cdot x^{n-1} \quad (n\in\mathbb{R})\)</span></td>
<td></td>
<td><span class="math inline">\(\sqrt{x}\)</span></td>
<td><span class="math inline">\(\frac{1}{2\cdot\sqrt{x}}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(e^x\)</span></td>
<td><span class="math inline">\(e^x\)</span></td>
<td></td>
<td><span class="math inline">\(a^x\)</span></td>
<td><span class="math inline">\(a^x \cdot \ln(a) \quad (a&gt;0, a\ne 1)\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\ln(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{x}\)</span></td>
<td></td>
<td><span class="math inline">\(\log_a(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{x\cdot\ln(a)} \quad (a&gt;0, a\ne 1)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\sin(x)\)</span></td>
<td><span class="math inline">\(\cos(x)\)</span></td>
<td></td>
<td><span class="math inline">\(\arcsin(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{\sqrt{1-x^2}}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\cos(x)\)</span></td>
<td><span class="math inline">\(-\sin(x)\)</span></td>
<td></td>
<td><span class="math inline">\(\arccos(x)\)</span></td>
<td><span class="math inline">\(-\frac{1}{\sqrt{1-x^2}}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\tan(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{\cos^2(x)} = 1 + \tan^2(x)\)</span></td>
<td></td>
<td><span class="math inline">\(\arctan(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{x^2+1}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\sinh(x)\)</span></td>
<td><span class="math inline">\(\cosh(x)\)</span></td>
<td></td>
<td><span class="math inline">\(\textrm{arsinh}(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{\sqrt{x^2+1}}\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(\cosh(x)\)</span></td>
<td><span class="math inline">\(\sinh(x)\)</span></td>
<td></td>
<td><span class="math inline">\(\textrm{arcosh(x)}\)</span></td>
<td><span class="math inline">\(\frac{1}{\sqrt{x^2-1}}\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(\tanh(x)\)</span></td>
<td><span class="math inline">\(\frac{1}{\cosh^2(x)} = 1 - \tanh^2(x)\)</span></td>
<td></td>
<td><span class="math inline">\(\textrm{artanh(x)}\)</span></td>
<td><span class="math inline">\(-\frac{1}{x^2-1}\)</span></td>
</tr>
</tbody>
</table>
</div>
<p>Neue Funktionen erhält man, indem man die Grundfunktionen aus <a href="#tbl-DiffGrundfunktionen">Tabelle&nbsp;<span>1.1</span></a> addiert, subtrahiert, multipliziert, dividiert und komponiert, d.h. Verkettungen der Form <span class="math inline">\((f\circ g)(x) = f(g(x))\)</span> bildet. Um solche Funktionen abzuleiten, brauchen wir die Regeln aus <a href="#tbl-DiffRegeln">Tabelle&nbsp;<span>1.2</span></a>. Mit diesen Regeln sind wir dann schon in der Lage, alle differenzierbaren Funktionen abzuleiten.</p>
<div id="tbl-DiffRegeln" class="anchored">
<table class="table">
<caption>Tabelle&nbsp;1.2: Ableitungsregeln</caption>
<colgroup>
<col style="width: 24%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th>Regel</th>
<th>Formel</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Summenregel</td>
<td><span class="math inline">\(\frac{d}{dx}(f(x)\pm g(x)) = f'(x) \pm g'(x)\)</span></td>
</tr>
<tr class="even">
<td>Produktregel</td>
<td><span class="math inline">\(\frac{d}{dx}(f(x)\cdot g(x)) = f'(x)\cdot g(x) + f(x) \cdot g'(x)\)</span></td>
</tr>
<tr class="odd">
<td><em>Spezialfall: Faktorregel</em></td>
<td><span class="math inline">\(\frac{d}{dx}(a\cdot f(x)) = a\cdot f'(x)\)</span></td>
</tr>
<tr class="even">
<td>Quotientenregel</td>
<td><span class="math inline">\(\frac{d}{dx}\frac{f(x)}{g(x)} = \frac{f'(x)\cdot g(x) - f(x) \cdot g'(x)}{g(x)^2}\)</span></td>
</tr>
<tr class="odd">
<td>Kettenregel</td>
<td><span class="math inline">\(\frac{d}{dx} f(g(x)) = f'(g(x))\cdot g'(x)\)</span></td>
</tr>
</tbody>
</table>
</div>
<p>An dieser Stelle sei noch angemerkt, dass sich der Begriff der Ableitung sinngemäss auf Funktionen <span class="math inline">\(f: \mathbb{R}^n \rightarrow\mathbb{R}^m\)</span> verallgemeinern lässt. Eine kurze Beschreibung der Grundidee findet sich in <span class="citation" data-cites="Slater2022">Slater (<a href="references.html#ref-Slater2022" role="doc-biblioref">2022</a>)</span>. Weitergehende Informationen findet man z.B. in <span class="citation" data-cites="Arens2022">Arens u.&nbsp;a. (<a href="references.html#ref-Arens2022" role="doc-biblioref">2022</a>)</span> oder in jedem Lehrbuch zur Analysis 2. Wir werden im <a href="HigherDimFunctions.html"><span>Kapitel&nbsp;4</span></a> darauf zurück kommen.</p>
</section>
<section id="sec-ProgFunc" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="sec-ProgFunc"><span class="header-section-number">1.3</span> Programme als Funktionen</h2>
<p>Programme, die numerische Werte einlesen und numerische Werte ausgeben, können als mathematische Funktionen betrachtet werden. Wir beschränken uns zunächst auf Programme, die nur ein Argument erhalten und nur einen Rückgabewert liefern.</p>
<div id="exm-FirstFunctionAsProgram" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 1.1 (Eine Funktion als Programm) </strong></span><br></p>
<p>Betrachte das folgende Programm:</p>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> (<span class="dv">2</span> <span class="op">+</span> x) <span class="op">*</span> (x <span class="op">-</span> <span class="dv">3</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="dv">2</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>( f(x0) )</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Diese Python-Funktion entspricht der Funktion <span class="math inline">\(f:\mathbb{R}\rightarrow\mathbb{R} , x \mapsto y=(2+x)(x-3)\)</span> im Sinne der Mathematik. Natürlich kann der Funktionskörper viel komplizierter aufgebaut sein und z.B. Schleifen und Bedingungen enthalten.</p>
<p>Um zu verstehen, wie der Computer einen Ausdruck wie <code>y = (2 + x) * (x - 3)</code> auswertet, ist es hilfreich, ihn als Baum (im Sinne der Graphentheorie) darzustellen. Ausdrucksbäume sind ein Spezialfall von so genannten <em>computational graphs</em> und werden z.B. in <span class="citation" data-cites="Hromkovic2021">Hromkovic u.&nbsp;a. (<a href="references.html#ref-Hromkovic2021" role="doc-biblioref">2021</a>)</span> erklärt.</p>
<div class="cell">
<div class="cell-output-display">
<div id="fig-compTreeSimple" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<svg width="672" height="480" viewbox="0.00 0.00 86.00 176.81" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 172.81)"> <polygon fill="white" stroke="transparent" points="-4,4 -4,-172.81 82,-172.81 82,4 -4,4"></polygon> <!-- nx --> <g id="node1" class="node">
<title>
nx
</title>
<text text-anchor="middle" x="39" y="-4.6" font-family="Consolas" font-size="8.00">x</text> </g> <!-- nPlus --> <g id="node4" class="node">
<title>
nPlus
</title>
<ellipse fill="none" stroke="black" cx="22" cy="-58.2" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="22" y="-55.8" font-family="Consolas" font-size="8.00">+</text> </g> <!-- nx&#45;&gt;nPlus --> <g id="edge2" class="edge">
<title>
nx-&gt;nPlus
</title>
<path fill="none" stroke="black" d="M36.92,-14.03C34.23,-21.81 29.49,-35.51 26.08,-45.4"></path> <polygon fill="black" stroke="black" points="24.41,-44.87 24.43,-50.17 27.72,-46.01 24.41,-44.87"></polygon> </g> <!-- nMinus --> <g id="node5" class="node">
<title>
nMinus
</title>
<ellipse fill="none" stroke="black" cx="56" cy="-58.2" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="56" y="-55.8" font-family="Consolas" font-size="8.00">-</text> </g> <!-- nx&#45;&gt;nMinus --> <g id="edge3" class="edge">
<title>
nx-&gt;nMinus
</title>
<path fill="none" stroke="black" d="M41.08,-14.03C43.77,-21.81 48.51,-35.51 51.92,-45.4"></path> <polygon fill="black" stroke="black" points="50.28,-46.01 53.57,-50.17 53.59,-44.87 50.28,-46.01"></polygon> </g> <!-- n2 --> <g id="node2" class="node">
<title>
n2
</title>
<text text-anchor="middle" x="7" y="-4.6" font-family="Consolas" font-size="8.00">2</text> </g> <!-- n2&#45;&gt;nPlus --> <g id="edge1" class="edge">
<title>
n2-&gt;nPlus
</title>
<path fill="none" stroke="black" d="M8.84,-14.03C11.19,-21.74 15.31,-35.26 18.32,-45.12"></path> <polygon fill="black" stroke="black" points="16.72,-45.89 19.85,-50.17 20.07,-44.87 16.72,-45.89"></polygon> </g> <!-- n3 --> <g id="node3" class="node">
<title>
n3
</title>
<text text-anchor="middle" x="71" y="-4.6" font-family="Consolas" font-size="8.00">3</text> </g> <!-- n3&#45;&gt;nMinus --> <g id="edge4" class="edge">
<title>
n3-&gt;nMinus
</title>
<path fill="none" stroke="black" d="M69.16,-14.03C66.81,-21.74 62.69,-35.26 59.68,-45.12"></path> <polygon fill="black" stroke="black" points="57.93,-44.87 58.15,-50.17 61.28,-45.89 57.93,-44.87"></polygon> </g> <!-- nMult --> <g id="node6" class="node">
<title>
nMult
</title>
<ellipse fill="none" stroke="black" cx="39" cy="-110.61" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="39" y="-108.21" font-family="Consolas" font-size="8.00">*</text> </g> <!-- nPlus&#45;&gt;nMult --> <g id="edge5" class="edge">
<title>
nPlus-&gt;nMult
</title>
<path fill="none" stroke="black" d="M24.36,-66.21C27.1,-74.34 31.67,-87.86 34.97,-97.66"></path> <polygon fill="black" stroke="black" points="33.4,-98.48 36.66,-102.66 36.72,-97.36 33.4,-98.48"></polygon> </g> <!-- nMinus&#45;&gt;nMult --> <g id="edge6" class="edge">
<title>
nMinus-&gt;nMult
</title>
<path fill="none" stroke="black" d="M53.64,-66.21C50.9,-74.34 46.33,-87.86 43.03,-97.66"></path> <polygon fill="black" stroke="black" points="41.28,-97.36 41.34,-102.66 44.6,-98.48 41.28,-97.36"></polygon> </g> <!-- ny --> <g id="node7" class="node">
<title>
ny
</title>
<text text-anchor="middle" x="39" y="-159.41" font-family="Consolas" font-size="8.00">y</text> </g> <!-- nMult&#45;&gt;ny --> <g id="edge7" class="edge">
<title>
nMult-&gt;ny
</title>
<path fill="none" stroke="black" d="M39,-118.87C39,-127 39,-140.28 39,-149.72"></path> <polygon fill="black" stroke="black" points="37.25,-149.76 39,-154.76 40.75,-149.76 37.25,-149.76"></polygon> </g> </g>
</svg>
</div>
<figcaption class="figure-caption">Abbildung&nbsp;1.1: Ausdrucksbaum zum Ausdruck <code>y = (2 + x) * (x - 3)</code>.</figcaption>
</figure>
</div>
</div>
</div>
<p>Wir wollen nun unsere Python-Funktion so umschreiben, dass diese Struktur auch im Funktionskörper sichtbar wird. Dazu führen wir drei Hilfsvariablen <code>v0, v1, v2</code> ein.</p>
<div class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> <span class="dv">2</span> <span class="op">+</span> v0</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v0 <span class="op">-</span> <span class="dv">3</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v1 <span class="op">*</span> v2</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<hr>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Konvention
</div>
</div>
<div class="callout-body-container callout-body">
<p>Eine Funktion berechnet aus einem Argument <code>x</code> einen Rückgabewert <code>y</code> über eine Reihe von Hilfsvariablen <code>v</code>, die mit aufsteigenden Indizes versehen sind. Dabei setzen wir am Anfang immer <code>v0 = x</code>.</p>
</div>
</div>
<div id="exr-OptimierungsproblemNachKonvention" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.2 (Kostenfunktion gemäss Konvention) </strong></span><br></p>
<p>Schreibe das Programm aus <a href="#exr-OptimierungsproblemProgrammieren">Übungsaufgabe&nbsp;<span>1.1</span></a> gemäss der obigen Konvention um.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> kosten(x):</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x       <span class="co"># sX</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> <span class="dv">16</span> <span class="op">-</span> v0 <span class="co"># d</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v1<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">12</span><span class="op">**</span><span class="dv">2</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> math.sqrt(v2) <span class="co"># sLand</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    v4 <span class="op">=</span> <span class="dv">15000</span> <span class="op">*</span> v0 <span class="co"># kKueste</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    v5 <span class="op">=</span> <span class="dv">25000</span> <span class="op">*</span> v3 <span class="co"># kLand</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v4 <span class="op">+</span> v5</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="dv">8</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>kGesamt <span class="op">=</span> kosten(x0)</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Mit x ="</span>, x0, <span class="st">"betragen die Kosten"</span>, kGesamt, <span class="st">"Euro."</span>)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Mit x = 8 betragen die Kosten 480555.1275463989 Euro.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="exr-ProgToFun" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.3 (Programm in Funktion übersetzen) </strong></span><br></p>
<p>Schreibe die mathematische Funktion auf, die durch das folgende Programm berechnet wird.</p>
<div class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> v0 <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v1 <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> <span class="op">-</span>v1 <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    v4 <span class="op">=</span> math.cos(v2)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    v5 <span class="op">=</span> math.exp(v3)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    v6 <span class="op">=</span> v4 <span class="op">*</span> v5</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v6 <span class="op">+</span> <span class="dv">1</span> <span class="op">/</span> v0</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p><span class="math display">\[\begin{align*}
v_1 &amp; = x^2 \\
v_2 &amp; = x^2 + 2 \\
v_3 &amp; = - \frac{x^2}{2} \\
v_4 &amp; = \cos(x^2 + 2) \\
v_5 &amp; = e^{- \frac{x^2}{2}} \\
v_6 &amp; = \cos(x^2 + 2) \cdot e^{- \frac{x^2}{2}} \\
y &amp; = f(x) = \cos(x^2 + 2) \cdot e^{- \frac{x^2}{2}} + \frac{1}{x}
\end{align*}\]</span></p>
</div>
</div>
</div>
<div id="exr-FunToGraphProg" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.4 (Funktion in Graph und Programm übersetzen) </strong></span><br></p>
<p>Schreibe zur mathematischen Funktion <span class="math inline">\(y = f(x) = \frac{\ln(x^2 + 1)}{\sqrt{x^2 + 1 + x}}\)</span> den Ausdrucksbaum auf. Übersetze den Ausdruck anschliessend in eine Python-Funktion gemäss der Konvention.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<div class="cell">
<div class="cell-output-display">
<div id="fig-compTreeSimple2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<svg width="672" height="480" viewbox="0.00 0.00 363.99 110.19" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 106.19)"> <polygon fill="white" stroke="transparent" points="-4,4 -4,-106.19 359.99,-106.19 359.99,4 -4,4"></polygon> <!-- nx --> <g id="node1" class="node">
<title>
nx
</title>
<text text-anchor="middle" x="7" y="-71.6" font-family="Consolas" font-size="8.00">x</text> </g> <!-- nPlus2 --> <g id="node5" class="node">
<title>
nPlus2
</title>
<ellipse fill="none" stroke="black" cx="163.01" cy="-76" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="163.01" y="-73.6" font-family="Consolas" font-size="8.00">+</text> </g> <!-- nx&#45;&gt;nPlus2 --> <g id="edge5" class="edge">
<title>
nx-&gt;nPlus2
</title>
<path fill="none" stroke="black" d="M14.23,-74.08C37.22,-74.38 117.62,-75.42 149.17,-75.83"></path> <polygon fill="black" stroke="black" points="149.45,-77.59 154.47,-75.9 149.49,-74.09 149.45,-77.59"></polygon> </g> <!-- nPow --> <g id="node6" class="node">
<title>
nPow
</title>
<ellipse fill="none" stroke="black" cx="58.2" cy="-40" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="58.2" y="-37.6" font-family="Consolas" font-size="8.00">^</text> </g> <!-- nx&#45;&gt;nPow --> <g id="edge1" class="edge">
<title>
nx-&gt;nPow
</title>
<path fill="none" stroke="black" d="M14.03,-69.83C22.22,-64.17 36.97,-53.98 46.93,-47.1"></path> <polygon fill="black" stroke="black" points="48,-48.49 51.12,-44.2 46.01,-45.61 48,-48.49"></polygon> </g> <!-- n2 --> <g id="node2" class="node">
<title>
n2
</title>
<text text-anchor="middle" x="7" y="-37.6" font-family="Consolas" font-size="8.00">2</text> </g> <!-- n2&#45;&gt;nPow --> <g id="edge2" class="edge">
<title>
n2-&gt;nPow
</title>
<path fill="none" stroke="black" d="M14.03,-40C21.65,-40 34.96,-40 44.79,-40"></path> <polygon fill="black" stroke="black" points="44.84,-41.75 49.84,-40 44.84,-38.25 44.84,-41.75"></polygon> </g> <!-- n1 --> <g id="node3" class="node">
<title>
n1
</title>
<text text-anchor="middle" x="58.2" y="-4.6" font-family="Consolas" font-size="8.00">1</text> </g> <!-- nPlus1 --> <g id="node4" class="node">
<title>
nPlus1
</title>
<ellipse fill="none" stroke="black" cx="110.61" cy="-37" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="110.61" y="-34.6" font-family="Consolas" font-size="8.00">+</text> </g> <!-- n1&#45;&gt;nPlus1 --> <g id="edge4" class="edge">
<title>
n1-&gt;nPlus1
</title>
<path fill="none" stroke="black" d="M65.38,-10.68C73.68,-15.62 88.56,-24.47 98.75,-30.54"></path> <polygon fill="black" stroke="black" points="97.86,-32.05 103.06,-33.1 99.65,-29.04 97.86,-32.05"></polygon> </g> <!-- nPlus1&#45;&gt;nPlus2 --> <g id="edge6" class="edge">
<title>
nPlus1-&gt;nPlus2
</title>
<path fill="none" stroke="black" d="M117.79,-41.78C126.34,-48.4 141.9,-60.44 152.09,-68.32"></path> <polygon fill="black" stroke="black" points="151.07,-69.75 156.09,-71.42 153.21,-66.98 151.07,-69.75"></polygon> </g> <!-- nLog --> <g id="node8" class="node">
<title>
nLog
</title>
<ellipse fill="none" stroke="black" cx="230.4" cy="-21" rx="16.93" ry="16.93"></ellipse> <text text-anchor="middle" x="230.4" y="-18.6" font-family="Consolas" font-size="8.00">ln( )</text> </g> <!-- nPlus1&#45;&gt;nLog --> <g id="edge7" class="edge">
<title>
nPlus1-&gt;nLog
</title>
<path fill="none" stroke="black" d="M118.98,-36C136.54,-33.61 181.41,-27.52 208.24,-23.87"></path> <polygon fill="black" stroke="black" points="208.63,-25.59 213.35,-23.18 208.16,-22.12 208.63,-25.59"></polygon> </g> <!-- nSqrt --> <g id="node9" class="node">
<title>
nSqrt
</title>
<ellipse fill="none" stroke="black" cx="230.4" cy="-79" rx="23.37" ry="23.37"></ellipse> <text text-anchor="middle" x="230.4" y="-76.6" font-family="Consolas" font-size="8.00">sqrt( )</text> </g> <!-- nPlus2&#45;&gt;nSqrt --> <g id="edge8" class="edge">
<title>
nPlus2-&gt;nSqrt
</title>
<path fill="none" stroke="black" d="M171.26,-76.33C178.7,-76.67 190.74,-77.23 201.94,-77.74"></path> <polygon fill="black" stroke="black" points="201.93,-79.49 207,-77.97 202.09,-76 201.93,-79.49"></polygon> </g> <!-- nPow&#45;&gt;nPlus1 --> <g id="edge3" class="edge">
<title>
nPow-&gt;nPlus1
</title>
<path fill="none" stroke="black" d="M66.64,-39.56C74.61,-39.08 87.39,-38.32 96.95,-37.75"></path> <polygon fill="black" stroke="black" points="97.25,-39.49 102.14,-37.44 97.04,-35.99 97.25,-39.49"></polygon> </g> <!-- nFrac --> <g id="node7" class="node">
<title>
nFrac
</title>
<ellipse fill="none" stroke="black" cx="297.79" cy="-50" rx="8.41" ry="8.41"></ellipse> <text text-anchor="middle" x="297.79" y="-47.6" font-family="Consolas" font-size="8.00">/</text> </g> <!-- ny --> <g id="node10" class="node">
<title>
ny
</title>
<text text-anchor="middle" x="348.99" y="-47.6" font-family="Consolas" font-size="8.00">y</text> </g> <!-- nFrac&#45;&gt;ny --> <g id="edge11" class="edge">
<title>
nFrac-&gt;ny
</title>
<path fill="none" stroke="black" d="M306.05,-50C314.18,-50 327.46,-50 336.9,-50"></path> <polygon fill="black" stroke="black" points="336.94,-51.75 341.94,-50 336.94,-48.25 336.94,-51.75"></polygon> </g> <!-- nLog&#45;&gt;nFrac --> <g id="edge9" class="edge">
<title>
nLog-&gt;nFrac
</title>
<path fill="none" stroke="black" d="M246.24,-27.58C258.02,-32.81 274.28,-40.02 285.14,-44.83"></path> <polygon fill="black" stroke="black" points="284.72,-46.56 290,-46.99 286.14,-43.36 284.72,-46.56"></polygon> </g> <!-- nSqrt&#45;&gt;nFrac --> <g id="edge10" class="edge">
<title>
nSqrt-&gt;nFrac
</title>
<path fill="none" stroke="black" d="M252.09,-69.82C263.08,-64.95 276.16,-59.15 285.33,-55.08"></path> <polygon fill="black" stroke="black" points="286.11,-56.65 289.98,-53.02 284.7,-53.45 286.11,-56.65"></polygon> </g> </g>
</svg>
</div>
<figcaption class="figure-caption">Abbildung&nbsp;1.2: Computational Graph zum Ausdruck <code>y = ln(x^2 + 1) / sqrt(x^2 + 1 + x)</code>.</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell" data-execution_count="6">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> v0 <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v1 <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> v2 <span class="op">+</span> v0</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    v4 <span class="op">=</span> math.log(v2)</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    v5 <span class="op">=</span> math.sqrt(v3)</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v4 <span class="op">/</span> v5</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Natürlich hätte man z.B. <code>v3</code> und <code>v4</code> auch vertauschen können.</p>
</div>
</div>
</div>
<div id="exr-LoopProgToFun" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.5 (Ein Programm mit einer Schleife) </strong></span><br></p>
<p>Betrachte das folgende Programm:</p>
<div class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>):</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>        v0 <span class="op">=</span> v0 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v0</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Ersetze im Funktionskörper die Schleife durch mehrere Befehle, so dass immer noch der gleiche mathematische Ausdruck berechnet wird und unsere Konvention eingehalten wird. Welche mathematische Funktion wird durch die Python-Funktion berechnet? Was ändert sich, wenn stattdessen <code>for i in range(3)</code> oder <code>for i in range(4)</code> stehen würde?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Für jeden Schleifendurchgang benötigen wir eine neue Hilfsvariable. Die Funktion, die dabei entsteht, kann geschrieben werden als <span class="math inline">\(f(x) = (\ell \circ \ell \circ \ldots \circ \ell)(x)\)</span>, wobei <span class="math inline">\(\ell(x) = x^2 + 1\)</span> ist.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true"><code>range(2)</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false"><code>range(3)</code></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false"><code>range(4)</code></a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> v0 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v1 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v2</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math display">\[\begin{align*}
    f(x) &amp;= \ell(\ell(x)) \\
         &amp;= (x^2 + 1)^2 + 1 = x^4 + 2x^2 + 2
\end{align*}\]</span></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> v0 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v1 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> v2 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v3</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math display">\[\begin{align*}
    f(x) &amp;= \ell(\ell(\ell(x))) \\
         &amp;= ((x^2 + 1)^2 + 1)^2 + 1 = x^8 + 4x^6 + 8x^4 + 8x^2 + 5
\end{align*}\]</span></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> v0 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> v1 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> v2 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>    v4 <span class="op">=</span> v3 <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> v4</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math display">\[\begin{align*}
    f(x) &amp;= \ell(\ell(\ell(\ell(x)))) \\
         &amp;= (((x^2 + 1)^2 + 1)^2 + 1)^2 + 1 \\
         &amp;= x^{16} + 8x^{14} + 32x^{12} + 80x^{10} + 138x^8 + 168x^6 + 144x^4 + 80x^2 + 26
\end{align*}\]</span></p>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="sec-NumerischeVerfahren" class="level2 page-columns page-full" data-number="1.4">
<h2 data-number="1.4" class="anchored" data-anchor-id="sec-NumerischeVerfahren"><span class="header-section-number">1.4</span> Numerische Verfahren, die mit Ableitungen arbeiten</h2>
<p>Es gibt zahlreiche numerische Verfahren, welche Werte von Ableitungen benötigen. Wir stellen hier exemplarisch zwei von ihnen vor: Das Newtonverfahren zur näherungsweisen Bestimmung von Nullstellen und das Gradient Descent Verfahren zur näherungsweisen Bestimmung von Minimalstellen einer Funktion. Letzteres wird uns an zahlreichen Stellen wieder begegnen.</p>
<section id="sec-Newtonverfahren1D" class="level3 page-columns page-full" data-number="1.4.1">
<h3 data-number="1.4.1" class="anchored" data-anchor-id="sec-Newtonverfahren1D"><span class="header-section-number">1.4.1</span> Das Newtonverfahren zur Berechnung von Nullstellen</h3>
<p>In vielen Anwendungen steht man vor der Aufgabe, die Gleichung <span class="math inline">\(f(x) = 0\)</span> nach <span class="math inline">\(x\)</span> aufzulösen, d.h. eine Nullstelle <span class="math inline">\(\bar{x}\)</span> der Funktion zu finden. Oft ist es aber nicht möglich, die Lösung einer solchen Gleichung in geschlossener Form darzustellen. Um dennoch eine Lösung zumindest näherungsweise berechnen zu können, kann man folgendermassen vorgehen:</p>
<ol type="1">
<li>Wähle einen Startwert <span class="math inline">\(x_0\)</span>, der in der Nähe einer Nullstelle <span class="math inline">\(\bar{x}\)</span> von <span class="math inline">\(f\)</span> liegt.</li>
<li>Im Kurvenpunkt <span class="math inline">\((x_0 | y_0)\)</span> wird die Tangente an die Kurve <span class="math inline">\(f\)</span> gelegt. Deren Schnittpunkt <span class="math inline">\(x_1\)</span> mit der <span class="math inline">\(x\)</span>-Achse liegt in der Regel näher bei <span class="math inline">\(\bar{x}\)</span> als <span class="math inline">\(x_0\)</span>.</li>
<li>Nun wiederholt man das Verfahren, indem man bei <span class="math inline">\(x_1\)</span> die Tangente an die Kurve legt, usw. Auf diese Weise erhält man eine Folge von Näherungen <span class="math inline">\(x_0, x_1, x_2, \ldots\)</span>, deren Grenzwert die Nullstelle <span class="math inline">\(\bar{x}\)</span> ist.</li>
</ol>
<p>Dieser Algorithmus ist als Newtonverfahren bekannt.</p>
<div class="fig-NewtonGeoGebra">
<iframe scrolling="no" title="Newtonverfahren" src="https://www.geogebra.org/material/iframe/id/baja85gv/width/700/height/500/border/888888/sfsb/true/smb/false/stb/false/stbh/false/ai/false/asb/false/sri/true/rc/false/ld/false/sdz/true/ctl/false" width="700px" height="500px" style="border:0px;">
</iframe>
</div>
<p>Die Gleichung der Tangente im Punkt <span class="math inline">\((x_n | y_n) = (x_n | f(x_n))\)</span> ist bekanntlich <span class="math inline">\(t(x) = f(x_n) + f'(x_n) \cdot (x - x_n)\)</span>. Die Nullstelle der Tangente ist der Näherungswert <span class="math inline">\(x_{n+1}\)</span>. Aus <span class="math inline">\(t(x_{n+1}) = 0\)</span> ergibt sich nun die Iterationsvorschrift des Newtonverfahrens: <span id="eq-newton"><span class="math display">\[
x_{n+1} = x_n - \frac{f(x_n)}{f'(x_n)}
\tag{1.1}\]</span></span></p>
<div id="exr-NewtonFirstTry" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.6 (Das Newtonverfahren programmieren) </strong></span><br></p>
<p>Schreibe ein Programm, das mit Hilfe des Newtonverfahrens (<a href="#eq-newton">Gleichung&nbsp;<span>1.1</span></a>) eine Nullstelle der Funktion <span class="math inline">\(f(x) = \frac{1}{31} x^3 -\frac{1}{20} x^2 -x + 1\)</span> berechnet. Verwende den Startwert <span class="math inline">\(x_0 = -2\)</span>. Du kannst abbrechen, wenn die Differenz <span class="math inline">\(|x_{n+1} - x_n|\)</span> kleiner als eine bestimmte Toleranz wird, z.B. kleiner als <code>tol = 1e-6</code>. Wie flexibel ist dein Programm einsetzbar? Überlege dir z.B., wie viele Änderungen du vornehmen müsstest, wenn du die Nullstelle einer anderen Funktion berechnen müsstest.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Welche der folgenden Lösungsvorschläge kommt deinem Programm am nächsten?</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Version 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Version 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">Version 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false">Version 4</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Schritt berechnen</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>x1 <span class="op">=</span> x0 <span class="op">-</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">20</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> x0 <span class="op">+</span> <span class="dv">1</span>) <span class="op">/</span> (<span class="dv">3</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">10</span> <span class="op">*</span> x0 <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> fabs(x1 <span class="op">-</span> x0) <span class="op">&gt;</span> tol:</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>    x0 <span class="op">=</span> x1</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">20</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> x0 <span class="op">+</span> <span class="dv">1</span>) <span class="op">/</span> (<span class="dv">3</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">10</span> <span class="op">*</span> x0 <span class="op">-</span> <span class="dv">1</span>)</span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x1)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5.908619865450271</code></pre>
</div>
</div>
<p>Das Newtonverfahren wird als main-Funktion (d.h. im Hauptprogramm) ausgeführt. Braucht man jedoch die Nullstelle einer anderen Funktion, dann muss ein neues Programm geschrieben werden. Die Ableitung wurde von Hand berechnet.</p>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<div class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">20</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fdot(x):</span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>    ydot <span class="op">=</span> <span class="dv">3</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">10</span> <span class="op">*</span> x <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ydot</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Schritt berechnen</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>x1 <span class="op">=</span> x0 <span class="op">-</span> f(x0) <span class="op">/</span> fdot(x0)</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> fabs(x1 <span class="op">-</span> x0) <span class="op">&gt;</span> tol:</span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a>    x0 <span class="op">=</span> x1</span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> f(x0) <span class="op">/</span> fdot(x0)</span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x1)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5.908619865450271</code></pre>
</div>
</div>
<p>Das Newtonverfahren wird als main-Funktion (d.h. im Hauptprogramm) ausgeführt, aber die Berechnung von <span class="math inline">\(f\)</span> und ihrer Ableitung <span class="math inline">\(f'\)</span> wurde in zwei Funktionen <code>f</code> und <code>fdot</code> ausgelagert. Das macht das Programm übersichtlicher und flexibler. Die Ableitung wurde wieder von Hand berechnet.</p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> newton(f, fdot, x0):</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>    tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Erster Schritt berechnen</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> f(x0) <span class="op">/</span> fdot(x0)</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> fabs(x1 <span class="op">-</span> x0) <span class="op">&gt;</span> tol:</span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>        x0 <span class="op">=</span> x1</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>        x1 <span class="op">=</span> x0 <span class="op">-</span> f(x0) <span class="op">/</span> fdot(x0)</span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x1</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">20</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb17-15"><a href="#cb17-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fdot(x):</span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a>    ydot <span class="op">=</span> <span class="dv">3</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">10</span> <span class="op">*</span> x <span class="op">-</span> <span class="dv">1</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ydot</span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a>xbar <span class="op">=</span> newton(f, fdot, x0)</span>
<span id="cb17-22"><a href="#cb17-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(xbar)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5.908619865450271</code></pre>
</div>
</div>
<p>Das Newtonverfahren wird als eigene Funktion <code>newton(f, fdot, x0)</code> implementiert. Dieser werden die Funktion <span class="math inline">\(f\)</span> und ihre Ableitung <span class="math inline">\(f'\)</span>, sowie der Startwert <span class="math inline">\(x_0\)</span> als Argumente übergeben. Sie kann dann im Hauptprogramm aufgerufen werden. Die Ableitung wurde aber immer noch von Hand berechnet.</p>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">
<div class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> newton(f, x0):</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Erster Schritt berechnen</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ableitung von f an der Stelle x0 annähern</span></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    h <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    ydot <span class="op">=</span> ( f(x0 <span class="op">+</span> h) <span class="op">-</span> f(x0) ) <span class="op">/</span> h</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> f(x0) <span class="op">/</span> ydot</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> fabs(x1 <span class="op">-</span> x0) <span class="op">&gt;</span> tol:</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        x0 <span class="op">=</span> x1</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>        ydot <span class="op">=</span> ( f(x0 <span class="op">+</span> h) <span class="op">-</span> f(x0) ) <span class="op">/</span> h</span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>        x1 <span class="op">=</span> x0 <span class="op">-</span> f(x0) <span class="op">/</span> ydot</span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x1</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">31</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">20</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">-</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb19-19"><a href="#cb19-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-20"><a href="#cb19-20" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="op">-</span><span class="dv">2</span></span>
<span id="cb19-21"><a href="#cb19-21" aria-hidden="true" tabindex="-1"></a>xbar <span class="op">=</span> newton(f, x0)</span>
<span id="cb19-22"><a href="#cb19-22" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(xbar)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5.90861986545027</code></pre>
</div>
</div>
<p>Hier wird das Newtonverfahren in einer Funktion implementiert. Die Ableitung wird nicht mehr von Hand berechnet, sondern innerhalb der Funktion mit <span class="math inline">\(f'(x_0)\approx \frac{f(x_0 + h) - f(x_0)}{h}\)</span> angenähert. Dabei wird einfach <code>h = 1e-6</code> gesetzt und gehofft, dass der entstehende Rundungsfehler klein genug ist. Beachte aber, dass sich der berechnete Wert von der Ausgabe in den anderen Versionen leicht unterscheidet.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="page-columns page-full"><p>Auch die Version 4 der vorgestellten Lösung ist noch nicht befriedigend. Als wir die Ableitung von Hand berechnet hatten, musste nur die Funktion <code>fdot</code> and der Stelle <code>x0</code> ausgewertet werden, um den (bis auf Maschinengenauigkeit) <em>exakten</em> Wert von <span class="math inline">\(f'(x_0)\)</span> zu erhalten. Bei der letzten Methode muss man sich mit einem Näherungswert der Ableitung zufrieden geben. Auch wenn der Wert in diesem Beispiel gut genug war <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>, so haben wir doch keine Garantie, dass wir für alle Funktionen einen vernünftigen Wert erhalten. Auf die Probleme, die mit dieser Annäherung von <span class="math inline">\(f'(x_0)\)</span> auftreten, wird in <a href="notAD.html#sec-ADnotNumDiff"><span>Kapitel&nbsp;2.1</span></a> näher eingegangen.</p><div class="no-row-height column-margin column-container"><li id="fn1"><p><sup>1</sup>&nbsp;Das Newton-Verfahren hat die angenehme Eigenschaft, dass kleine Rundungsfehler automatisch ausgeglichen werden. Auf andere numerische Verfahren, die die Ableitung verwenden, trifft dies aber nicht zu.</p></li></div></div>
<div id="exm-Billard" class="theorem example page-columns page-full">
<p><span class="theorem-title"><strong>Beispiel 1.2 (Billard auf einem runden Tisch) </strong></span><br></p>
<p>Wir betrachten ein Beispiel aus <span class="citation" data-cites="Gander2015">Gander (<a href="references.html#ref-Gander2015" role="doc-biblioref">2015</a>)</span>. Platziere die weisse und die blaue Billardkugel auf dem runden Tisch. Das Ziel ist es, die weisse Kugel so anzustossen, dass sie die blaue Kugel trifft, nachdem sie vorher genau einmal an die Bande gespielt wurde.</p>
<div class="fig-CircularBillardBasic">
<iframe scrolling="no" title="Billard" src="https://www.geogebra.org/material/iframe/id/zz2y2use/width/700/height/500/border/888888/sfsb/true/smb/false/stb/false/stbh/false/ai/false/asb/false/sri/true/rc/false/ld/false/sdz/false/ctl/false" width="700px" height="500px" style="border:0px;">
</iframe>
</div>
<p>Aus Symmetriegründen dürfen wir annehmen, dass der Rand des Billardtisches der Einheitskreis ist und dass die weisse Kugel auf der <span class="math inline">\(x\)</span>-Achse liegt. Die blaue Kugel habe die Koordinaten <span class="math inline">\((x_P|y_P)\)</span>. Weiter sei <span class="math inline">\(X\)</span> der Punkt auf dem Einheitskreis, an dem die weisse Kugel abprallt. Wir beschreiben diesen Punkt mit seinen Polarkoordinaten <span class="math inline">\(X=(\cos(x)|\sin(x))\)</span>. Unser Ziel ist es, <span class="math inline">\(x\)</span> so zu berechnen, dass die weisse Kugel die blaue trifft, nachdem sie bei <span class="math inline">\(X\)</span> an die Bande gestossen ist. Dabei verhält sie sich so, als ob sie an der Kreistangente in <span class="math inline">\(X\)</span> reflektiert wird. Der Tangentenvektor im Punkt <span class="math inline">\(X\)</span> lautet <span class="math inline">\(\vec{t} = \begin{pmatrix} -\sin(x) \\ \cos(x) \end{pmatrix}\)</span>.</p>

<div class="no-row-height column-margin column-container"><div class="">
<div id="fig-BillardExplanation" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="CircularBillard_sketch.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Abbildung&nbsp;1.3: Billard auf einem runden Tisch</figcaption>
</figure>
</div>
</div></div><p>Wir betrachten nun die Einheitsvektoren <span class="math inline">\(\vec{e}_Q\)</span> in Richtung <span class="math inline">\(\overrightarrow{XQ}\)</span> und <span class="math inline">\(\vec{e}_P\)</span> in Richtung <span class="math inline">\(\overrightarrow{XP}\)</span>. Wenn die weisse Kugel die blaue treffen soll, dann müssen die Winkel zwischen der Tangente und diesen Vektoren gleich sein. Das ist genau dann der Fall, wenn <span class="math inline">\(\vec{t}\)</span> senkrecht steht auf <span class="math inline">\(\vec{e}_Q + \vec{e}_P\)</span>. Wir müssen also <span class="math inline">\(x\)</span> so bestimmen, dass <span class="math inline">\(\vec{t} \cdot (\vec{e}_Q + \vec{e}_P) = 0\)</span> ist.</p>
<p>Das folgende Programm berechnet das Skalarprodukt der linken Seite dieser Gleichung.</p>
<div class="cell" data-execution_count="15">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Parameter</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> <span class="op">-</span><span class="fl">0.8</span>           <span class="co"># Position von Q = (a|0)</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    px, py <span class="op">=</span> <span class="fl">0.5</span>, <span class="fl">0.5</span>  <span class="co"># Position von P = (px|py)</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Berechnung des Skalarprodukts</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> x</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> math.cos(v0)  <span class="co"># x-Koordinate von X</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> math.sin(v0)  <span class="co"># y-Koordinate von X</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> px <span class="op">-</span> v1       <span class="co"># x-Komponente des Vektors XP</span></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a>    v4 <span class="op">=</span> py <span class="op">-</span> v2       <span class="co"># y-Komponente des Vektors XP</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a>    v5 <span class="op">=</span> math.sqrt(v3<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> v4<span class="op">**</span><span class="dv">2</span>)  <span class="co"># Länge des Vektors XP</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a>    v6 <span class="op">=</span> v3 <span class="op">/</span> v5       <span class="co"># x-Komponente des Einheitsvektors eP</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a>    v7 <span class="op">=</span> v4 <span class="op">/</span> v5       <span class="co"># y-Komponente des Einheitsvektors eP</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a>    v8 <span class="op">=</span> a <span class="op">-</span> v1        <span class="co"># x-Komponente des Vektors XQ</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a>    v9 <span class="op">=</span> <span class="op">-</span>v2           <span class="co"># y-Komponente des Vektors XQ</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a>    v10 <span class="op">=</span> math.sqrt(v8<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> v9<span class="op">**</span><span class="dv">2</span>)  <span class="co"># Länge des Vektors XQ</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a>    v11 <span class="op">=</span> v8 <span class="op">/</span> v10     <span class="co"># x-Komponente des Vektors eQ    </span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a>    v12 <span class="op">=</span> v9 <span class="op">/</span> v10     <span class="co"># y-Komponente des Vektors eQ   </span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> (v6 <span class="op">+</span> v11) <span class="op">*</span> v2 <span class="op">-</span> (v7 <span class="op">+</span> v12) <span class="op">*</span> v1  <span class="co"># Skalarprodukt</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y   </span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph der Funktion f(x) plotten</span></span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.gca()</span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>ax.set_xlim((<span class="dv">0</span>,<span class="dv">2</span><span class="op">*</span>math.pi))</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>ax.set_ylim((<span class="op">-</span><span class="fl">1.5</span>,<span class="fl">1.5</span>))</span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> [<span class="dv">2</span><span class="op">*</span>math.pi <span class="op">*</span> k <span class="op">/</span> <span class="dv">1000</span> <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1001</span>)]</span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> [f(x) <span class="cf">for</span> x <span class="kw">in</span> X]</span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a>plt.plot([<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>math.pi], [<span class="dv">0</span>, <span class="dv">0</span>], <span class="st">'k--'</span>) <span class="co"># x-Achse</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a>plt.plot(X,Y)</span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">0</span>, math.pi<span class="op">/</span><span class="dv">2</span>, math.pi, <span class="dv">3</span><span class="op">*</span>math.pi<span class="op">/</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">*</span>math.pi],</span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a>           [<span class="st">'0'</span>, <span class="st">'π/2'</span>, <span class="st">'π'</span>, <span class="st">'3π/2'</span>, <span class="st">'2π'</span>])</span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a>plt.show()  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-graphofbillard" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="intro_files/figure-html/fig-graphofbillard-output-1.png" width="590" height="416" class="figure-img"></p>
<figcaption class="figure-caption">Abbildung&nbsp;1.4: Graph des Skalarprodukts als Funktion des Polarwinkels <span class="math inline">\(x\)</span> des Punktes <span class="math inline">\(X = (cos(x) | sin(x))\)</span>. Die Nullstellen entsprechen den Winkeln, bei denen die weisse Kugel die blaue Kugel trifft, nachdem sie genau einmal an die Bande gespielt wurde.</figcaption>
</figure>
</div>
</div>
</div>
<p>Wir möchten die Nullstellen der Funktion <code>f(x)</code> mit unserer Funtion <code>newton</code> bestimmmen. Dazu müssen wir jedoch die Ableitung von <code>f</code> berechnen.</p>
</div>
<hr>
</section>
<section id="sec-gradientDescent" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2" class="anchored" data-anchor-id="sec-gradientDescent"><span class="header-section-number">1.4.2</span> Gradient Descent zum Auffinden lokaler Minima</h3>
<p>Eine weitere wichtige Aufgabe besteht darin, ein Minimum einer Funktion zu finden. Auch hier wollen wir mit Hilfe der Ableitung eine Folge von Näherungswerten <span class="math inline">\(x_0, x_1, x_2, \ldots\)</span> finden, deren Grenzwert die <span class="math inline">\(x\)</span>-Koordinate eines (lokalen) Minimums von <span class="math inline">\(f\)</span> ist.</p>
<p>Wenn <span class="math inline">\(f'(x_n)&gt;0\)</span> ist, dann wissen wir, dass die Funktion <span class="math inline">\(f\)</span> an der Stelle <span class="math inline">\(x_0\)</span> streng monoton wachsend ist. D.h., dass die Funktionswerte links von <span class="math inline">\(x_n\)</span> kleiner sind, als an der Stelle <span class="math inline">\(x_n\)</span>. Analog gilt, dass wenn <span class="math inline">\(f'(x_n)&lt;0\)</span> ist, die Funktion monoton fallend ist und wir uns nach rechts bewegen sollten, um ein Minimum zu finden. In der Nähe eines Minimums ist ausserdem <span class="math inline">\(|f'(x)|\)</span> sehr klein und wir können entsprechend kleinere Schritte machen, um uns diesem anzunähern. Um also von <span class="math inline">\(x_n\)</span> zu <span class="math inline">\(x_{n+1}\)</span> zu kommen, machen wir einen Schritt, der proportional zu <span class="math inline">\(-f'(x_n)\)</span> ist. Mit dem Proporionalitätsfaktor <span class="math inline">\(\lambda\in\mathbb{R}\)</span> und einem geeignet gewählten Startwert <span class="math inline">\(x_0\)</span> erhalten wir die Iterationsvorschrift <span id="eq-gradientDescent"><span class="math display">\[
x_{n+1} = x_n - \lambda\cdot f'(x_n)
\tag{1.2}\]</span></span></p>
<div class="fig-GradientDescentGeoGebra1D">
<iframe scrolling="no" title="Gradient Descent Verfahren" src="https://www.geogebra.org/material/iframe/id/xnjdmuqr/width/700/height/500/border/888888/sfsb/true/smb/false/stb/false/stbh/false/ai/false/asb/false/sri/true/rc/false/ld/false/sdz/true/ctl/false" width="700px" height="500px" style="border:0px;">
</iframe>
</div>
<div id="exr-GradientDescentBasicProperties" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.7 (Eigenschaften der Gradient Descent Methode) </strong></span><br> Experimentiere mit verschiedenen Funktionen und verschiedenen Schrittweiten <span class="math inline">\(\lambda\)</span>. Was passiert, wenn die Schrittweite zu klein bzw. zu gross gewählt wird? Was passiert, wenn <span class="math inline">\(f\)</span> an der Stelle <span class="math inline">\(x_0\)</span> ein lokales Maximum aufweist? Was passiert in der Nähe eines Sattelpunktes?</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Ist <span class="math inline">\(\lambda\)</span> zu klein, dann konvergiert das Verfahren nur sehr langsam. Ist <span class="math inline">\(\lambda\)</span> dagegen zu gross, dann kann es passieren, dass die Iteration zwischen zwei oder mehr Werten hin- und herspringt oder sogar nach <span class="math inline">\(\pm\infty\)</span> divergiert.</p>
<p>Falls <span class="math inline">\(x_0\)</span> gerade mit der Stelle eines lokalen Maximums oder eines Sattelpunktes zusammenfällt, gilt auch <span class="math inline">\(f'(x_0)=0\)</span> und damit auch <span class="math inline">\(x_n = x_0\)</span> für alle <span class="math inline">\(n\in\mathbb{N}\)</span>. Maxima sind aber labile Gleichgewichtspunkte in dem Sinn, dass sich <span class="math inline">\(x_n\)</span> von ihnen wegbewegt, wenn <span class="math inline">\(x_0\)</span> auch nur ein bisschen links oder rechts davon liegt. Ähnlich verhält es sich bei Sattelpunkten. Die Folge konvergiert gegen die Stelle des Sattelpunktes, wenn <span class="math inline">\(f(x_0)\)</span> grösser als der <span class="math inline">\(y\)</span>-Wert des Sattelpunktes ist und <span class="math inline">\(\lambda\)</span> nicht zu gross ist.</p>
</div>
</div>
</div>
<div id="exr-GradientDescentFirstTry" class="theorem exercise">
<p><span class="theorem-title"><strong>Übungsaufgabe 1.8 (Gradient Descent programmieren) </strong></span><br></p>
<p>Schreibe ein Programm, das mit Hilfe des Gradient Descent Verfahrens (<a href="#eq-gradientDescent">Gleichung&nbsp;<span>1.2</span></a>) ein lokales Minimums der Funktion <span class="math inline">\(f(x) = \frac{1}{16}x^4 - \frac{1}{3}x^3 + \frac{1}{8}x^2 + x + 2\)</span> berechnet. Verwende den Startwert <span class="math inline">\(x_0 = 1.5\)</span> und die Schrittweite <span class="math inline">\(\lambda = 0.5\)</span>. Du kannst abbrechen, wenn die Differenz <span class="math inline">\(|x_{n+1} - x_n|\)</span> kleiner als eine bestimmte Toleranz wird, z.B. kleiner als <code>tol = 1e-6</code>. Wie flexibel ist dein Programm einsetzbar? Überlege dir z.B., wie viele Änderungen du vornehmen müsstest, wenn du ein lokales Minimum einer anderen Funktion berechnen müsstest.</p>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Lösung
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Welche der folgenden Lösungsvorschläge kommt deinem Programm am nächsten?</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Version 1</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Version 2</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-3" role="tab" aria-controls="tabset-3-3" aria-selected="false">Version 3</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-4" role="tab" aria-controls="tabset-3-4" aria-selected="false">Version 4</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<div class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="fl">1.5</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>lam <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Schritt berechnen</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> x0<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x0 <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> fabs(x1<span class="op">-</span>x0) <span class="op">&gt;</span> tol:</span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>    x0 <span class="op">=</span> x1</span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x0<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> x0<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x0 <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x1)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3.3429230748530196</code></pre>
</div>
</div>
<p>Das Gradient Descent Verfahren wird als main-Funktion (d.h. im Hauptprogramm) ausgeführt. Um das Minimum einer anderen Funktion zu bestimmen, muss ein neues Programm geschrieben werden. Die Ableitung wurde von Hand berechnet</p>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<div class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fdot(x):</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    ydot <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ydot</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="fl">1.5</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>lam <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Erster Schritt berechnen</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true" tabindex="-1"></a>x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> fdot(x0)</span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> fabs(x1<span class="op">-</span>x0) <span class="op">&gt;</span> tol:</span>
<span id="cb24-13"><a href="#cb24-13" aria-hidden="true" tabindex="-1"></a>    x0 <span class="op">=</span> x1</span>
<span id="cb24-14"><a href="#cb24-14" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> fdot(x0)</span>
<span id="cb24-15"><a href="#cb24-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(x1)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3.3429230748530196</code></pre>
</div>
</div>
<p>Das Gradient Descent Verfahren wird als main-Funktion (d.h. im Hauptprogramm) ausgeführt, aber die Berechnung von <span class="math inline">\(f'\)</span> wurde in die Funktion <code>fdot(x)</code> ausgelagert. Das macht das Programm etwas flexibler. Die Ableitung wurde wieder von Hand berechnet.</p>
</div>
<div id="tabset-3-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-3-tab">
<div class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> gradient_descent(fdot, x0, lam):</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Erster Schritt berechnen</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> fdot(x0)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> fabs(x1<span class="op">-</span>x0) <span class="op">&gt;</span> tol:</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a>        x0 <span class="op">=</span> x1</span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>        x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> fdot(x0)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x1</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> fdot(x):</span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>    ydot <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">-</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">1</span><span class="op">/</span><span class="dv">4</span> <span class="op">*</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> ydot</span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="fl">1.5</span></span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a>lam <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a>xmin <span class="op">=</span> gradient_descent(fdot, x0, lam)</span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(xmin)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>3.3429230748530196</code></pre>
</div>
</div>
<p>Das Gradient Descent Verfahren wird als eigene Funktion <code>gradient_descent(fdot, x0, lam)</code> implementiert. Dieser Funktion werden die Ableitung <span class="math inline">\(f'\)</span>, der Startwert <span class="math inline">\(x_0\)</span>, sowie die Schrittweite <span class="math inline">\(\lambda\)</span> als Argumente übergeben. Sie kann dann im Hauptprogramm aufgerufen werden. Die Ableitung wurde aber immer noch von Hand berechnet.</p>
</div>
<div id="tabset-3-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-4-tab">
<div class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> math <span class="im">import</span> fabs</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> gradient_descent(f, x0, lam):</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>    tol <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Erster Schritt berechnen</span></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Ableitung an der Stelle x0 annähern</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>    h <span class="op">=</span> <span class="fl">1e-6</span></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>    ydot <span class="op">=</span> ( f(x0 <span class="op">+</span> h) <span class="op">-</span> f(x0) ) <span class="op">/</span> h</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>    x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> ydot</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> fabs(x1<span class="op">-</span>x0) <span class="op">&gt;</span> tol:</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>        x0 <span class="op">=</span> x1</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>        ydot <span class="op">=</span> ( f(x0 <span class="op">+</span> h) <span class="op">-</span> f(x0) ) <span class="op">/</span> h</span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>        x1 <span class="op">=</span> x0 <span class="op">-</span> lam <span class="op">*</span> ydot</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x1</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x):</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> <span class="dv">1</span><span class="op">/</span><span class="dv">16</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">4</span> <span class="op">-</span> <span class="dv">1</span><span class="op">/</span><span class="dv">3</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">3</span> <span class="op">+</span> <span class="dv">1</span><span class="op">/</span><span class="dv">8</span> <span class="op">*</span> x<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> x <span class="op">+</span> <span class="dv">2</span></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a>x0 <span class="op">=</span> <span class="fl">1.5</span></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a>lam <span class="op">=</span> <span class="fl">0.5</span></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>xmin <span class="op">=</span> gradient_descent(fdot, x0, lam)</span>
<span id="cb28-23"><a href="#cb28-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(xmin)</span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>2.535183236464121</code></pre>
</div>
</div>
<p>Das Gradient Descent Verfahren wird als eigene Funktion <code>gradient_descent(f, x0, lam)</code> implementiert. Dieser Funktion werden die ursprüngliche Funktion <span class="math inline">\(f\)</span>, der Startwert <span class="math inline">\(x_0\)</span>, sowie die Schrittweite <span class="math inline">\(\lambda\)</span> als Argumente übergeben. Die Ableitung wird nicht mehr von Hand berechnet, sondern durch den Differenzenquotienten <span class="math inline">\(f'(x_0) \approx \frac{f(x_0 + h) - f(x_0)}{h}\)</span> angenähert. Dabei wird einfach <code>h = 1e-6</code> gesetzt und gehofft, dass der entstehende Rundungsfehler klein genug ist. Offensichtlich ist diese Annahme jedoch nicht gerechtfertigt.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<p>Die <a href="#exr-GradientDescentFirstTry">Übungsaufgabe&nbsp;<span>1.8</span></a> verdeutlicht nochmals das Problem, welches wir bereits in <a href="#exr-NewtonFirstTry">Übungsaufgabe&nbsp;<span>1.6</span></a> gesehen haben. Wir müssen für den Algorithmus die Ableitung <span class="math inline">\(f'\)</span> an mehreren Stellen auswerten. Wir möchten aber die Ableitung einerseits nicht von Hand berechnen und andererseits können wir uns auch nicht mit einer Approximation zufrieden geben.</p>
<p>Wir beschliessen dieses Kapitel mit einer praktischen Anwendung der Gradient Descent Methode.</p>
<div id="exm-GDApplication" class="theorem example">
<p><span class="theorem-title"><strong>Beispiel 1.3 (Minimaler Abstand) </strong></span><br></p>
<p>Die Punkte <span class="math inline">\(P\)</span> und <span class="math inline">\(Q\)</span> bewegen sich auf Ellipsen im Raum. Die Position des Punktes <span class="math inline">\(P\)</span> zur Zeit <span class="math inline">\(t\)</span> ist gegeben durch</p>
<p><span class="math display">\[\begin{align*}
    x_P(t) &amp;= 2 \cos(t) - 1 \\
    y_P(t) &amp;= 1.5 \sin(t)   \\
    z_P(t) &amp;= 0             
\end{align*}\]</span></p>
<p>und die Position von <span class="math inline">\(Q\)</span> zum Zeitpunkt <span class="math inline">\(t\)</span> lässt sich durch</p>
<p><span class="math display">\[\begin{align*}
    x_Q(t) &amp;= -3 \sin(2t)     \\
    y_Q(t) &amp;= 2 \cos(2t) + 1  \\
    z_Q(t) &amp;= 2 \sin(2t) + 1  
\end{align*}\]</span></p>
<p>bestimmen.</p>
<div class="fig-AbstandEllipseGerade">
<iframe scrolling="no" title="Abstandsproblem" src="https://www.geogebra.org/material/iframe/id/ksauhvfy/width/700/height/500/border/888888/sfsb/true/smb/false/stb/false/stbh/false/ai/false/asb/false/sri/true/rc/false/ld/true/sdz/true/ctl/false" width="700px" height="500px" style="border:0px;">
</iframe>
</div>
<p>Der Abstand zwischen den beiden Punkten lässt sich zu jedem Zeitpunkt <span class="math inline">\(t\)</span> berechnen durch <span class="math inline">\(d = d(t) = |\overrightarrow{PQ}|\)</span>. Das folgende Programm berechnet diese Funktion und zeichnet ihren Graph.</p>
<div class="cell" data-execution_count="20">
<details open="">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> math</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> d(t):</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    v0 <span class="op">=</span> t</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    v1 <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> math.cos(v0) <span class="op">-</span> <span class="dv">1</span>    <span class="co"># x-Koordinate von P</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    v2 <span class="op">=</span> <span class="fl">1.5</span> <span class="op">*</span> math.sin(v0)      <span class="co"># y-Koordinate von P</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    v3 <span class="op">=</span> <span class="dv">0</span>                       <span class="co"># z-Koordinate von P</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    v4 <span class="op">=</span> <span class="op">-</span><span class="dv">3</span> <span class="op">*</span> math.sin(<span class="dv">2</span><span class="op">*</span>v0)     <span class="co"># x-Koordinate von Q</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    v5 <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> math.cos(<span class="dv">2</span><span class="op">*</span>v0) <span class="op">+</span> <span class="dv">1</span>  <span class="co"># y-Koordinate von Q</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    v6 <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> math.sin(<span class="dv">2</span><span class="op">*</span>v0) <span class="op">+</span> <span class="dv">1</span>  <span class="co"># z-Koordinate von Q</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> math.sqrt((v4<span class="op">-</span>v1)<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> (v5<span class="op">-</span>v2)<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> (v6<span class="op">-</span>v3)<span class="op">**</span><span class="dv">2</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Graph der Funktion d(t) plotten</span></span>
<span id="cb30-16"><a href="#cb30-16" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb30-17"><a href="#cb30-17" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> plt.gca()</span>
<span id="cb30-18"><a href="#cb30-18" aria-hidden="true" tabindex="-1"></a>ax.set_xlim((<span class="dv">0</span>,<span class="dv">2</span><span class="op">*</span>math.pi))</span>
<span id="cb30-19"><a href="#cb30-19" aria-hidden="true" tabindex="-1"></a>ax.set_ylim((<span class="dv">0</span>,<span class="dv">6</span>))</span>
<span id="cb30-20"><a href="#cb30-20" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> [<span class="dv">2</span><span class="op">*</span>math.pi <span class="op">*</span> k <span class="op">/</span> <span class="dv">1000</span> <span class="cf">for</span> k <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1001</span>)]</span>
<span id="cb30-21"><a href="#cb30-21" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> [d(t) <span class="cf">for</span> t <span class="kw">in</span> T]</span>
<span id="cb30-22"><a href="#cb30-22" aria-hidden="true" tabindex="-1"></a>plt.plot(T,Y)</span>
<span id="cb30-23"><a href="#cb30-23" aria-hidden="true" tabindex="-1"></a>plt.xticks([<span class="dv">0</span>, math.pi<span class="op">/</span><span class="dv">2</span>, math.pi, <span class="dv">3</span><span class="op">*</span>math.pi<span class="op">/</span><span class="dv">2</span>, <span class="dv">2</span><span class="op">*</span>math.pi],</span>
<span id="cb30-24"><a href="#cb30-24" aria-hidden="true" tabindex="-1"></a>           [<span class="st">'0'</span>, <span class="st">'π/2'</span>, <span class="st">'π'</span>, <span class="st">'3π/2'</span>, <span class="st">'2π'</span>])</span>
<span id="cb30-25"><a href="#cb30-25" aria-hidden="true" tabindex="-1"></a>plt.show()  </span></code><button title="In die Zwischenablage kopieren" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div id="fig-graphofdistanceproblem" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="intro_files/figure-html/fig-graphofdistanceproblem-output-1.png" width="566" height="416" class="figure-img"></p>
<figcaption class="figure-caption">Abbildung&nbsp;1.5: Graph der Abstandsfunktion <span class="math inline">\(d(t)\)</span>.</figcaption>
</figure>
</div>
</div>
</div>
<p>Wir möchten das Minimum der Funktion <span class="math inline">\(d(t)\)</span> mit Hilfe der Gradient Descent Methode finden. Dazu müssen wir aber <span class="math inline">\(d\)</span> ableiten können.</p>
</div>
<hr>


<div id="refs" class="references csl-bib-body hanging-indent" role="list" style="display: none">
<div id="ref-Arens2022" class="csl-entry" role="listitem">
Arens, Tilo, Frank Hettlich, Christian Karpfinger, Ulrich Kockelkorn, Klaus Lichtenegger, und Hellmuth Stachel. 2022. <em>Mathematik</em>. Berlin, Heidelberg: Springer Berlin Heidelberg.
</div>
<div id="ref-Gander2015" class="csl-entry" role="listitem">
Gander, Walter. 2015. <em>Learning <span>MATLAB</span>: A Problem Solving Approach</em>. 1. Aufl. UNITEXT. Cham, Switzerland: Springer International Publishing.
</div>
<div id="ref-Griewank2008EDP" class="csl-entry" role="listitem">
Griewank, Andreas, und Andrea Walther. 2008. <em>Evaluating Derivatives: <span>P</span>rinciples and Techniques of Algorithmic Differentiation</em>. 2. Aufl. Other Titles in Applied Mathematics 105. Philadelphia, PA: SIAM. <a href="http://bookstore.siam.org/ot105/">http://bookstore.siam.org/ot105/</a>.
</div>
<div id="ref-Hromkovic2021" class="csl-entry" role="listitem">
Hromkovic, Juraj, Jarka Arnold, Cédric Donner, Urs Hauser, Matthias Hauswirth, Tobias Kohn, Dennis Komm, David Maletinsky, und Nicole Roth. 2021. <em><span>INFORMATIK</span>, Programmieren und Robotik: Grundlagen der Informatik f<span>ü</span>r Schweizer Maturit<span>ä</span>tsschulen</em>. Klett.
</div>
<div id="ref-Slater2022" class="csl-entry" role="listitem">
Slater, Max. 2022. <span>„Differentiable programming from scratch“</span>. Juli 2022. <a href="https://thenumb.at/Autodiff/">https://thenumb.at/Autodiff/</a>.
</div>
<div id="ref-Stocker2022" class="csl-entry" role="listitem">
Stocker, Hansjürg, Reto Weibel, Marco Schmid, Regula Sourlier-Künzle, und Baoswan Wong Dzung. 2022. <em>Analysis: Aufgaben</em>. hep Verlag.
</div>
</div>
</section>
</section>


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Kopiert");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Kopiert");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Vorwort</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./notAD.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">AD ist nicht …</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>